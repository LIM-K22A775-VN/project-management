extends ../../layouts/default.pug

include ../../mixins/box-head.pug
include ../../mixins/alert.pug

block main
  +alert-success(5000)
  +alert-error(5000)

  .container.my-4
    .row
      .col-12
        +box-head('ƒê·∫∑t h√†ng th√†nh c√¥ng')

    .row
      .col-12
        .alert.alert-success(role="alert")
          | üéâ Ch√∫c m·ª´ng b·∫°n ƒë√£ ƒë·∫∑t h√†ng th√†nh c√¥ng! Ch√∫ng t√¥i s·∫Ω x·ª≠ l√Ω ƒë∆°n h√†ng c·ªßa b·∫°n s·ªõm nh·∫•t.

    if order
      // Th√¥ng tin c√° nh√¢n
      .row.mt-4
        .col-12.col-md-8.mx-auto
          .card.shadow-sm
            .card-header.bg-primary.text-white
              h5.mb-0 Th√¥ng tin c√° nh√¢n
            .card-body
              table.table.table-bordered.mb-0
                tbody
                  tr
                    td.w-25.text-muted H·ªç t√™n
                    td 
                      strong #{order.userInfo.fullName}
                  tr
                    td.text-muted S·ªë ƒëi·ªán tho·∫°i
                    td 
                      strong #{order.userInfo.phone}
                  tr
                    td.text-muted ƒê·ªãa ch·ªâ
                    td 
                      strong #{order.userInfo.address}

      // Th√¥ng tin ƒë∆°n h√†ng
      .row.mt-5
        .col-12
          .card.shadow-sm
            .card-header.bg-success.text-white
              h5.mb-0 Th√¥ng tin ƒë∆°n h√†ng
            .card-body.p-0
              if order.products && order.products.length > 0
                table.table.table-striped.table-hover.mb-0
                  thead.table-light
                    tr
                      th.text-center(scope="col") STT
                      th(scope="col") ·∫¢nh
                      th(scope="col") T√™n
                      th.text-end(scope="col") Gi√°
                      th.text-center(scope="col") S·ªë l∆∞·ª£ng
                      th.text-end(scope="col") T·ªïng ti·ªÅn
                  tbody
                    each item, index in order.products
                      tr
                        td.text-center #{index + 1}
                        td
                          img(
                            src=item.productInfo.thumbnail
                            alt=item.productInfo.title
                            width="70"
                            class="img-thumbnail"
                          )
                        td #{item.productInfo.title}
                        td.text-end #{item.priceNew} $
                        td.text-center #{item.quantity}
                        td.text-end #{item.totalPrice} $
                .p-3.text-end.bg-light.border-top
                  h5.mb-0 
                    | üí∞ T·ªïng ƒë∆°n h√†ng: 
                    span.text-success #{order.totalPrice} $
              else
                .p-3.text-center.text-muted Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o trong ƒë∆°n h√†ng.
